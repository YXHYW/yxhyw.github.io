"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8639],{83182:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>c,toc:()=>p});var s=n(74848),r=n(28453);const o={},i=void 0,c={id:"python/FastAPI/\u4e2d\u95f4\u4ef6/\u4e2d\u95f4\u4ef6\u6982\u5ff5",title:"\u4e2d\u95f4\u4ef6\u6982\u5ff5",description:"\u524d\u8a00",source:"@site/docs/python/FastAPI/\u4e2d\u95f4\u4ef6/\u4e2d\u95f4\u4ef6\u6982\u5ff5.md",sourceDirName:"python/FastAPI/\u4e2d\u95f4\u4ef6",slug:"/python/FastAPI/\u4e2d\u95f4\u4ef6/\u4e2d\u95f4\u4ef6\u6982\u5ff5",permalink:"/docs/python/FastAPI/\u4e2d\u95f4\u4ef6/\u4e2d\u95f4\u4ef6\u6982\u5ff5",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"python",previous:{title:"\u4e2d\u95f4\u4ef6",permalink:"/docs/category/\u4e2d\u95f4\u4ef6"},next:{title:"\u81ea\u5b9a\u4e49\u4e2d\u95f4\u4ef6",permalink:"/docs/python/FastAPI/\u4e2d\u95f4\u4ef6/\u81ea\u5b9a\u4e49\u4e2d\u95f4\u4ef6"}},a={},p=[{value:"\u524d\u8a00",id:"\u524d\u8a00",level:2},{value:"HTTP\u8bf7\u6c42\u4e2d\u95f4\u4ef6",id:"http\u8bf7\u6c42\u4e2d\u95f4\u4ef6",level:2}];function l(e){const t={code:"code",h2:"h2",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"\u524d\u8a00",children:"\u524d\u8a00"}),"\n",(0,s.jsx)(t.p,{children:"\u5728Web\u5f00\u53d1\u4e2d\uff0c\u901a\u5e38\u9700\u8981\u4e00\u79cd\u673a\u5236\u5904\u7406\u8bf7\u6c42\u524d\u548c\u54cd\u5e94\u540e\u7684\u4e00\u4e9b\u94a9\u5b50\u51fd\u6570\uff0c\u901a\u5e38\u628a\u8fd9\u7c7b\u51fd\u6570\u79f0\u4e3a\u4e2d\u95f4\u4ef6\u3002FastAPI\u7684\u4e2d\u95f4\u4ef6\u662f\u5728\u5e94\u7528\u7a0b\u5e8f\u5904\u7406HTTP\u8bf7\u6c42\u548c\u54cd\u5e94\u4e4b\u524d\u6216\u4e4b\u540e\u6267\u884c\u529f\u80fd\u7684\u4e00\u4e2a\u7ec4\u4ef6\u3002\u4e2d\u95f4\u4ef6\u5141\u8bb8\u7528\u6237\u5bf9HTTP\u8bf7\u6c42\u8fdb\u884c\u91cd\u5199\u3001\u8fc7\u6ee4\u3001\u4fee\u6539\u6216\u6dfb\u52a0\u4fe1\u606f\uff0c\u4ee5\u53ca\u5bf9HTTP\u54cd\u5e94\u8fdb\u884c\u4fee\u6539\u6216\u5904\u7406\u3002"}),"\n",(0,s.jsx)(t.h2,{id:"http\u8bf7\u6c42\u4e2d\u95f4\u4ef6",children:"HTTP\u8bf7\u6c42\u4e2d\u95f4\u4ef6"}),"\n",(0,s.jsx)(t.p,{children:"\u793a\u4f8b"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:'from fastapi import Request\n\n# \u4e3a\u6bcf\u4e2aHTTP\u8bf7\u6c42\u8ba1\u7b97\u8bf7\u6c42\u54cd\u5e94\u8017\u65f6, \u5e76\u5728\u63a7\u5236\u53f0\u8f93\u51fa\n@app.middleware("http")\nasync def add_process_time(request: Request, call_next):\n    start_time = time.time()\n    resp = await call_next(request)\n    process_time = time.time() - start_time\n    print(f"url: {request.url}, process_time: {process_time:.4f}")\n    return resp\n'})})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>c});var s=n(96540);const r={},o=s.createContext(r);function i(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);